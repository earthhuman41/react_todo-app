{"version":3,"sources":["TodoItem/TodoItem.js","TodoList/TodoList.js","Header/Header.js","Footer/Footer.js","App/App.js","index.js"],"names":["TodoItem","props","todo","deleteTodo","completeTodo","completedClass","completed","react_default","a","createElement","className","onChange","id","type","concat","checked","htmlFor","title","onClick","TodoList","todosList","togleAllComplete","togleChecked","completedLength","map","TodoItem_TodoItem","Header","_ref","addTodo","inputValue","changeInput","onKeyDown","e","placeholder","value","Footer","page","this","filteredField","_this$props","deleteAllCompleted","changeFilter","todosLeft","href","selectedPage","React","Component","App","state","_callee","filterValue","regenerator_default","wrap","_context","prev","next","console","log","target","match","_this","setState","stop","filter","status","prevState","Object","toConsumableArray","index","findIndex","togle","_this$state","length","elemIndex","splice","createTodo","trim","key","todoItem","list","push","addId","callback","window","location","JSON","parse","localStorage","getItem","objectSpread","nextProps","nextState","nextContext","setItem","stringify","_this$state2","filteredTodosList","Header_Header","Fragment","TodoList_TodoList","src_Footer_Footer","ReactDOM","render","src_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.3b785e1f.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction TodoItem(props) {\n  const {\n    todo,\n    deleteTodo,\n    completeTodo,\n  } = props;\n  const completedClass = todo.completed ? 'completed' : '';\n\n  return (\n    <li className={completedClass}>\n      <div className=\"view\">\n        <input\n          onChange={() => completeTodo(todo.id)}\n          type=\"checkbox\"\n          className=\"toggle\"\n          id={`todo-${todo.id}`}\n          checked={todo.completed}\n        />\n        <label htmlFor={`todo-${todo.id}`}>\n          {todo.title}\n        </label>\n        <button\n          onClick={() => deleteTodo(todo.id)}\n          type=\"button\"\n          className=\"destroy\"\n        />\n      </div>\n    </li>\n  );\n}\n\nTodoItem.propTypes = {\n  todo: PropTypes.objectOf(PropTypes.shape({\n    id: PropTypes.number,\n    completed: PropTypes.bool,\n    title: PropTypes.string,\n  })).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n  completeTodo: PropTypes.func.isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\n\nimport TodoItem from '../TodoItem/TodoItem';\nimport PropTypes from 'prop-types';\n\nfunction TodoList(props) {\n  const {\n    todosList,\n    deleteTodo,\n    togleAllComplete,\n    completeTodo,\n    completedLength,\n  } = props;\n\n  const togleChecked = completedLength > 0;\n\n  return (\n\n    <section className=\"main\">\n      <input\n        onChange={togleAllComplete}\n        type=\"checkbox\"\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n        checked={togleChecked}\n      />\n      <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n      <ul className=\"todo-list\">\n        {\n          todosList.map(todo => (\n            <TodoItem\n              completeTodo={completeTodo}\n              deleteTodo={deleteTodo}\n              todo={todo}\n            />))\n        }\n      </ul>\n    </section>\n  );\n}\n\nTodoList.propTypes = {\n  todosList: PropTypes.arrayOf(PropTypes.object).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n  togleAllComplete: PropTypes.func.isRequired,\n  completeTodo: PropTypes.func.isRequired,\n  completedLength: PropTypes.number.isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Header({ addTodo, inputValue, changeInput }) {\n  return (\n    <header className=\"header\">\n      <h1>todos</h1>\n\n      <input\n        onKeyDown={(e) => {\n          addTodo(e);\n        }}\n        onChange={e => changeInput(e)}\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n        value={inputValue}\n      />\n    </header>\n  );\n}\n\nHeader.propTypes = {\n  addTodo: PropTypes.func.isRequired,\n  inputValue: PropTypes.string.isRequired,\n  changeInput: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Footer extends React.Component {\n  selectedPage(page) {\n    const { filteredField } = this.props;\n    return page === filteredField ? 'selected' : '';\n  }\n\n  render() {\n    const {\n      deleteAllCompleted,\n      changeFilter,\n      todosLeft,\n      completedLength,\n    } = this.props;\n    const className = completedLength ? '' : 'clear-completed--disable';\n    return (\n      <footer className=\"footer\">\n        <span className=\"todo-count\">\n          {todosLeft} items left\n        </span>\n\n        <ul className=\"filters\">\n          <li>\n            <a\n              onClick={e => changeFilter(e)}\n              href=\"#/\"\n              className={this.selectedPage('')}\n            >\n              All\n            </a>\n          </li>\n\n          <li>\n            <a\n              onClick={e => changeFilter(e)}\n              href=\"#/active\"\n              className={this.selectedPage('active')}\n            >\n              Active\n            </a>\n          </li>\n\n          <li>\n            <a\n              onClick={e => changeFilter(e)}\n              href=\"#/completed\"\n              className={this.selectedPage('completed')}\n            >\n              Completed\n            </a>\n          </li>\n        </ul>\n\n        <button\n          onClick={deleteAllCompleted}\n          type=\"button\"\n          className={`clear-completed ${className}`}\n        >\n          Clear completed\n        </button>\n      </footer>\n    );\n  }\n}\n\nFooter.propTypes = {\n  deleteAllCompleted: PropTypes.func.isRequired,\n  changeFilter: PropTypes.func.isRequired,\n  todosLeft: PropTypes.number.isRequired,\n  completedLength: PropTypes.number.isRequired,\n  filteredField: PropTypes.string.isRequired,\n};\n\nexport default Footer;\n","import React from 'react';\n\nimport TodoList from '../TodoList/TodoList';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\n\nclass App extends React.Component {\n  state = {\n    todosList: [],\n    filteredField: '',\n    inputValue: '',\n    completedLength: 0,\n  };\n\n  componentWillMount() {\n    console.log(window.location.href);\n    const state = JSON.parse(localStorage.getItem('state'));\n    console.log(JSON.parse(localStorage.getItem('state')));\n    this.setState({ ...state });\n  }\n\n  componentWillUpdate(nextProps, nextState, nextContext) {\n    localStorage.setItem('state', JSON.stringify(nextState));\n  }\n\n  changeFilter = async(e) => {\n    console.log(e.target);\n    let filterValue = e.target.href.match(/#\\/([a-z]+)/);\n\n    if (filterValue) {\n      filterValue = filterValue[1];\n    } else {\n      filterValue = '';\n    }\n\n    await this.setState({ filteredField: filterValue });\n    console.log(this.state.filteredField);\n  };\n\n  filter = (todosList) => {\n    const { filteredField } = this.state;\n    let status;\n\n    switch (filteredField) {\n      case 'completed':\n        status = true;\n        break;\n      case 'active':\n        status = false;\n        break;\n      default: return todosList;\n    }\n\n    return todosList.filter(todo => todo.completed === status);\n  };\n\n  completeTodo = (id) => {\n    this.setState((prevState) => {\n      const todosList = [...prevState.todosList];\n      const index = todosList.findIndex(todo => todo.id === id);\n      const togle = !todosList[index].completed;\n\n      todosList[index].completed = togle;\n      let completedLength;\n\n      if (togle) {\n        completedLength = prevState.completedLength + 1;\n      } else {\n        completedLength = prevState.completedLength - 1;\n      }\n\n      return { todosList, completedLength };\n    });\n  };\n\n  togleAllComplete = () => {\n    let { completedLength, todosList } = this.state;\n    const togle = completedLength !== todosList.length;\n\n    this.setState((prevState) => {\n      todosList = prevState.todosList.map((todo) => {\n        const { id, title } = todo;\n        return {\n          id,\n          title,\n          completed: togle,\n        };\n      });\n\n      completedLength = togle ? prevState.todosList.length : 0;\n      return { todosList, completedLength };\n    });\n  };\n\n  deleteAllCompleted = () => {\n    this.setState((prevState) => {\n      let todosList = [...prevState.todosList];\n\n      todosList = todosList.filter(todo => !todo.completed);\n      return { todosList, completedLength: 0 };\n    });\n  };\n\n  deleteTodo = (id) => {\n    this.setState((prevState) => {\n      const todosList = [...prevState.todosList];\n\n      const elemIndex = todosList.findIndex(todo => todo.id === id);\n      const completedLength = prevState.completedLength - 1;\n      todosList.splice(elemIndex, 1);\n\n      return { todosList, completedLength };\n    });\n  };\n\n  changeInput = (e) => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  createTodo = (e, id) => {\n    const title = this.state.inputValue.trim();\n    if (e.key === 'Enter' && title) {\n      const todoItem = {\n        id,\n        title,\n        completed: false,\n      };\n\n      this.setState((prevState) => {\n        const list = [...prevState.todosList];\n        list.push(todoItem);\n        return { todosList: list, inputValue: '' };\n      });\n    }\n  };\n\n  addId = (callback) => {\n    let id = 1;\n    return (e) => {\n      id += 1;\n      callback(e, id);\n    };\n  };\n\n  render() {\n    const {\n      todosList,\n      inputValue,\n      completedLength,\n      filteredField,\n    } = this.state;\n\n    const filteredTodosList = this.filter(todosList);\n    const todosLeft = todosList.length - completedLength;\n    const addTodo = this.addId(this.createTodo);\n\n    return (\n      <section className=\"todoapp\">\n\n        <Header\n          inputValue={inputValue}\n          changeInput={this.changeInput}\n          addTodo={addTodo}\n        />\n        {\n          todosList.length > 0 && (\n            <>\n              <TodoList\n                completedLength={completedLength}\n                completeTodo={this.completeTodo}\n                togleAllComplete={this.togleAllComplete}\n                deleteTodo={this.deleteTodo}\n                todosList={filteredTodosList}\n              />\n              <Footer\n                filteredField={filteredField}\n                todosLeft={todosLeft}\n                completedLength={completedLength}\n                changeFilter={this.changeFilter}\n                deleteAllCompleted={this.deleteAllCompleted}\n              />\n            </>\n          )\n        }\n\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './base.css';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}